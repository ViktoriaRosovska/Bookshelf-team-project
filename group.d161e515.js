!function(){function e(e){return e&&e.__esModule?e.default:e}var t,r,n,a,o,i,s,c,u,l,f,h,p,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},g={},b={},y=d.parcelRequire9432;null==y&&((y=function(e){if(e in g)return g[e].exports;if(e in b){var t=b[e];delete b[e];var r={id:e,exports:{}};return g[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){b[e]=t},d.parcelRequire9432=y),y.register("aNJCr",function(e,t){Object.defineProperty(e.exports,"getBundleURL",{get:function(){return r},set:function(e){return r=e},enumerable:!0,configurable:!0});"use strict";var r,n={};r=function(e){var t=n[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),n[e]=t),t}}),y("7SQp7"),y("i8Q71"),y("aOrXb");var m=y("i7mVp"),v=y("4tSb9"),_=y("7SQp7"),m=y("i7mVp"),v=y("4tSb9"),_=y("7SQp7"),E=document.querySelector(".books-gallery"),S=new _.APIService;function w(){return(w=(0,m._)(function(e){var t;return(0,v.__generator)(this,function(r){switch(r.label){case 0:return[4,S.fetchBooksByCategory(e)];case 1:return[4,r.sent().data];case 2:return console.log(t=r.sent()),E.innerHTML='<h1 class="collection-title">Books</h1>\n    <ul class="top-books rendering-gap js-list-rendering">\n    '.concat(t.map(function(e){var t=e.title,r=e.book_image,n=e.author,a=e._id;return'<li class="book-card" id="'.concat(a,'">\n      <img class="book-cover" src="').concat(r,'" alt="').concat(t,'">\n      <h2 class="book-name">').concat(t,'</h2>\n      <h3 class="book-author">').concat(n,"</h3>\n  </li>")}).join(""),"\n    </ul>"),[2]}})})).apply(this,arguments)}var k=new _.APIService,L=document.querySelector(".book-category__list");function B(){return(B=(0,m._)(function(){return(0,v.__generator)(this,function(e){switch(e.label){case 0:return[4,k.fetchBooksCategoryList()];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}})})).apply(this,arguments)}function O(){return(O=(0,m._)(function(){var e;return(0,v.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(){return B.apply(this,arguments)}()];case 1:return e=t.sent().map(function(e){return'<li class="book-category__list-item">'.concat(e.list_name,"</li>")}).join(""),L.insertAdjacentHTML("beforeend",e),[3,3];case 2:return console.log(t.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}function A(){return(A=(0,m._)(function(e){return(0,v.__generator)(this,function(t){switch(t.label){case 0:if("LI"!==e.target.nodeName)return[2];return console.log(e.target),e.target.classList.contains("active")?e.target.classList.remove("active"):(document.querySelectorAll(".book-category__list-item").forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active")),[4,function(e){return w.apply(this,arguments)}(e.target.textContent)];case 1:return t.sent(),[2]}})})).apply(this,arguments)}L&&(!function(){O.apply(this,arguments)}(),L.addEventListener("click",function(e){return A.apply(this,arguments)}));var m=y("i7mVp"),v=y("4tSb9"),_=y("7SQp7"),I=new _.APIService,C=document.querySelector(".books-collection");function D(){return(D=(0,m._)(function(){return(0,v.__generator)(this,function(e){switch(e.label){case 0:return[4,I.fetchBestSellersBooks()];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}})})).apply(this,arguments)}function T(){return(T=(0,m._)(function(){var e,t,r,n,a,o,i,s;return(0,v.__generator)(this,function(c){switch(c.label){case 0:return e="",[4,function(){return D.apply(this,arguments)}()];case 1:console.log(t=c.sent()),r=!0,n=!1,a=void 0;try{for(o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)s=i.value,e+='\n    <li class="book-category-item">\n      <p class="book-category">'.concat(s.list_name,'</p>\n      <ul class="top-books js-list-rendering">\n        ').concat(s.books.map(function(e){return'\n              <li class="book-card flex-element" id='.concat(e._id,'>\n                <img class="book-cover" src="').concat(e.book_image,'" alt="').concat(e.title,'" />\n                <h2 class="book-name">').concat(e.title,'</h2>\n                <h3 class="book-author">').concat(e.author,"</h3>\n              </li>\n            ")}).join(""),'\n      </ul>\n      <button class="book-card-btn" type="button">see more</button>\n    </li>\n  ')}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return C.innerHTML=e,[2]}})})).apply(this,arguments)}C&&(!function(){T.apply(this,arguments)}(),null==C||C.addEventListener("click",x));var N=document.querySelector(".collection-title");function x(e){return H.apply(this,arguments)}function H(){return(H=(0,m._)(function(e){var t,r,n,a;return(0,v.__generator)(this,function(o){switch(o.label){case 0:if("BUTTON"!==e.target.nodeName)return[2];if(!(t=e.target).matches("button[data-category]"))return[3,3];return console.log(r=t.dataset.category),[4,I.fetchBooksByCategory(r)];case 1:return[4,o.sent().data];case 2:console.log(n=o.sent()),a=n.map(function(e){var t=e.title,n=e.book_image,a=e.author,o=e._id;return N.textContent=r,console.log(N.textContent),'<li class="flex-element" id="'.concat(o,'">\n      <img src="').concat(n,'" alt="').concat(t,'">\n      <h2>').concat(t,"</h2>\n      <p>").concat(a,"</p>\n  </li>")}).join(""),C.innerHTML=a,o.label=3;case 3:return[2]}})})).apply(this,arguments)}C.addEventListener("click",x);var m=y("i7mVp"),v=y("4tSb9"),_=y("7SQp7"),M={};M=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("iz5nZ");var j={};j=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("etq4A");var R={};R=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("mCCOp");var P={};P=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("iZ8qR");var V={};V=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("gmnG0");var q={};q=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("95GBg");var U=document.querySelector("#allModal"),F=document.querySelector(".books-gallery"),W=document.querySelector(".add-storage-button"),J=document.querySelector(".remove-storage-btn"),$=document.querySelector(".storage-info"),Y=new _.APIService,G="storage-data",Q=[],X={};F&&(W.addEventListener("click",function(){var e=JSON.parse(localStorage.getItem(G)),t=X;e&&0!==e.length?(e.push(t),localStorage.setItem(G,JSON.stringify(e))):(Q.push(t),localStorage.setItem(G,JSON.stringify(Q))),$.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",et()}),J.addEventListener("click",function(){$.textContent="";var e=X.id,t=JSON.parse(localStorage.getItem(G)),r=t.findIndex(function(t){return t.id===e});t.splice(r,1),localStorage.setItem(G,JSON.stringify(t)),et()}),F.addEventListener("click",function(e){if("BUTTON"!==e.target.nodeName&&"UL"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"H3"!==e.target.nodeName){var t=e.target.closest("li").id;z.classList.remove("is-hidden"),Z.classList.remove("is-hidden"),function(e){K.apply(this,arguments)}(t)}}));var z=document.querySelector(".about-book-modal"),Z=document.querySelector(".card-backdrop-modal");function K(){return(K=(0,m._)(function(t){var r,n;return(0,v.__generator)(this,function(a){switch(a.label){case 0:U.innerHTML="",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){return ee.apply(this,arguments)}(t)];case 2:var o,i,s,c,u,l,f,h,p;return r=a.sent(),et(),o=r.book_image,i=r.title,s=r.author,c=r.buy_links[0].url,u=r.buy_links[1].url,l=r.buy_links[4].url,h=f=r.description,""===f&&(h="Unfortunately, a brief description of this book is currently unavailable. But let that not hinder you from opening its pages and immersing yourself in the unforgettable world it creates."),p='  \n  <img src="'.concat(o,'" alt="Book Image" class="image-about-book-modal">\n  <div class="info-modal">\n  <h2 class="title-about-book-modal">').concat(i,'</h2>\n  <p class="author-about-book-modal"> ').concat(s,'</p>\n  <p class="text-about-book-modal">').concat(h,'</p>\n  <ul class="shop-modal-list"> <li class="shop-modal-item"><a href="').concat(c,'" target="_blank"\n    > <img\n     width="62"\n    height="19"\n    srcset="\n    ').concat(e(M)," 1x,\n    ").concat(e(j),' 2x\n  "\n   src="').concat(e(M),'"\n    alt="Amazon"\n  /></a></li>\n  <li class="shop-modal-item"><a href="').concat(u,'" target="_blank"\n    > <img\n    width="33"\n    height="32"\n    srcset="\n    ').concat(e(R)," 1x,\n    ").concat(e(P),' 2x\n  "\n   src="').concat(e(R),'"\n    alt="AppleBooks"\n  /></a></li>\n  <li class="shop-modal-item"><a href="').concat(l,'" target="_blank"\n    > <img\n    width="38"\n    height="36"\n    srcset="\n    ').concat(e(V)," 1x,\n    ").concat(e(q),' 2x\n  "\n   src="').concat(e(V),'"\n    alt="Book-Shop"\n  /></a></li>\n</ul>\n</div>\n  '),U.innerHTML=p,[2,r];case 3:throw console.error("Error",n=a.sent()),n;case 4:return[2]}})})).apply(this,arguments)}function ee(){return(ee=(0,m._)(function(e){var t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),X={},[4,Y.fetchBookInfo(e)];case 1:return X={book_image:(t=n.sent().data).book_image,title:t.title,author:t.author,marketAmazon:t.buy_links[0].url,marketAppleBooks:t.buy_links[1].url,marketBookshop:t.buy_links[4].url,list_name:t.list_name,id:t._id,description:t.description},[2,t];case 2:throw console.error("Error",r=n.sent()),r;case 3:return[2]}})})).apply(this,arguments)}function et(){var e=JSON.parse(localStorage.getItem(G)),t=X.id;if(e&&0!==e.length)e.find(function(e){return e.id===t})?(W.style.display="none",J.style.display="block"):(W.style.display="block",J.style.display="none");else{W.style.display="block",J.style.display="none";return}}var er=document.querySelector(".card-backdrop-modal"),en=document.querySelector(".modal"),ea=document.getElementById("modal-close");function eo(){er.classList.add("is-hidden"),en.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",ei)}function ei(e){"Escape"===e.key&&eo()}en&&(er.addEventListener("click",function(e){e.target===er&&eo()}),ea.addEventListener("click",function(){eo()}));var es=document.querySelector(".authorisation-btn"),ec=document.querySelector(".modal-login-form"),eu=document.querySelector(".modal-login-form-close-btn"),el=document.querySelector(".overlayLoginForm");function ef(){ec.style.display="none",el.style.display="none"}ec&&(es.onclick=function(){ec.style.display="block",el.style.display="block"},eu.onclick=ef,window.onclick=function(e){(e.target===ec||e.target===el)&&ef()},window.addEventListener("keydown",function(e){"Escape"===e.key&&ef()})),y("2ayrj"),y("50Y4H"),({btn:document.querySelector(".scrollBtn"),show:function(){this.btn.classList.remove("scrollBtn-hide")},hide:function(){this.btn.classList.add("scrollBtn-hide")},addEventListener:function(){var e=this;this.btn&&(window.addEventListener("scroll",function(){(window.scrollY||document.documentElement.scrollTop)>100?e.show():e.hide()}),this.btn.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})})}}).addEventListener();var m=y("i7mVp"),eh=y("juqrk"),ep=y("bNI6E");function ed(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eg=y("aYXpI"),v=y("4tSb9"),m=y("i7mVp"),eh=y("juqrk"),ep=y("bNI6E"),eb=y("fGQt0"),eg=y("aYXpI"),v=y("4tSb9"),ey=y("cquyX"),eh=y("juqrk"),ep=y("bNI6E"),em=y("jqfyu"),eb=y("fGQt0"),eg=y("aYXpI"),ev=y("8ZYwq"),e_=y("3A6Ss");function eE(e,t,r){return(eE=(0,ev._is_native_reflect_construct)()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&(0,e_._set_prototype_of)(a,r.prototype),a}).apply(null,arguments)}var eS=y("5yT7U"),e_=y("3A6Ss");function ew(e){var t="function"==typeof Map?new Map:void 0;return(ew=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return eE(e,arguments,(0,eS._get_prototype_of)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,e_._set_prototype_of)(r,e)})(e)}var ek=y("50zho"),eL={};function eB(){throw Error("setTimeout has not been defined")}function eO(){throw Error("clearTimeout has not been defined")}function eA(e){if(o===setTimeout)return setTimeout(e,0);if((o===eB||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:eB}catch(e){o=eB}try{i="function"==typeof clearTimeout?clearTimeout:eO}catch(e){i=eO}}();var eI=[],eC=!1,eD=-1;function eT(){eC&&s&&(eC=!1,s.length?eI=s.concat(eI):eD=-1,eI.length&&eN())}function eN(){if(!eC){var e=eA(eT);eC=!0;for(var t=eI.length;t;){for(s=eI,eI=[];++eD<t;)s&&s[eD].run();eD=-1,t=eI.length}s=null,eC=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===eO||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function ex(e,t){this.fun=e,this.array=t}function eH(){}eL.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];eI.push(new ex(e,t)),1!==eI.length||eC||eA(eN)},ex.prototype.run=function(){this.fun.apply(null,this.array)},eL.title="browser",eL.browser=!0,eL.env={},eL.argv=[],eL.version="",eL.versions={},eL.on=eH,eL.addListener=eH,eL.once=eH,eL.off=eH,eL.removeListener=eH,eL.removeAllListeners=eH,eL.emit=eH,eL.prependListener=eH,eL.prependOnceListener=eH,eL.listeners=function(e){return[]},eL.binding=function(e){throw Error("process.binding is not supported")},eL.cwd=function(){return"/"},eL.chdir=function(e){throw Error("process.chdir is not supported")},eL.umask=function(){return 0};var eM=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):(64512&a)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},ej=function(e){for(var t=[],r=0,n=0;r<e.length;){var a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){var o=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){var i=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{var s=e[r++],c=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&c)}}return t.join("")},eR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],a=0;a<e.length;a+=3){var o=e[a],i=a+1<e.length,s=i?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|u>>6,p=63&u;c||(p=64,i||(h=64)),n.push(r[l],r[f],r[h],r[p])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eM(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ej(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],a=0;a<e.length;){var o=r[e.charAt(a++)],i=a<e.length?r[e.charAt(a)]:0,s=++a<e.length?r[e.charAt(a)]:64,c=++a<e.length?r[e.charAt(a)]:64;if(++a,null==o||null==i||null==s||null==c)throw new eP;var u=o<<2|i>>4;if(n.push(u),64!==s){var l=i<<4&240|s>>2;if(n.push(l),64!==c){var f=s<<6&192|c;n.push(f)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},eP=function(e){"use strict";(0,em._)(r,e);var t=(0,ek._)(r);function r(){var e;return(0,eh._)(this,r),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),e.name="DecodeBase64StringError",e}return r}(ew(Error)),eV=function(e){var t=eM(e);return eR.encodeByteArray(t,!0)},eq=function(e){return eV(e).replace(/\./g,"")},eU=function(e){"use strict";(0,em._)(r,e);var t=(0,ek._)(r);function r(e,n,a){var o;return(0,eh._)(this,r),(o=t.call(this,n)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf((0,ey._)(o),r.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,ey._)(o),eF.prototype.create),o}return r}(ew(Error)),eF=function(){"use strict";function e(t,r,n){(0,eh._)(this,e),this.service=t,this.serviceName=r,this.errors=n}return(0,ep._)(e,[{key:"create",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0]||{},o="".concat(this.service,"/").concat(e),i=this.errors[e],s=i?i.replace(eW,function(e,t){var r=a[t];return null!=r?String(r):"<".concat(t,"?>")}):"Error",c="".concat(this.serviceName,": ").concat(s," (").concat(o,").");return new eU(o,c,a)}}]),e}(),eW=/\{\$([^}]+)}/g,eJ=function(){"use strict";function e(t,r,n){(0,eh._)(this,e),this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,ep._)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),eh=y("juqrk"),ep=y("bNI6E"),eg=y("aYXpI"),e$=[];(a=c||(c={}))[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT";var eY={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},eG=c.INFO,eQ=(ed(u={},c.DEBUG,"log"),ed(u,c.VERBOSE,"log"),ed(u,c.INFO,"info"),ed(u,c.WARN,"warn"),ed(u,c.ERROR,"error"),u),eX=function(e,t){for(var r,n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=eQ[t];if(s)(r=console)[s].apply(r,["[".concat(i,"]  ").concat(e.name,":")].concat((0,eg._)(a)));else throw Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"))}},ez=function(){"use strict";function e(t){(0,eh._)(this,e),this.name=t,this._logLevel=eG,this._logHandler=eX,this._userLogHandler=null,e$.push(this)}return(0,ep._)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in c))throw TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?eY[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.DEBUG].concat((0,eg._)(t))),this._logHandler.apply(this,[this,c.DEBUG].concat((0,eg._)(t)))}},{key:"log",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.VERBOSE].concat((0,eg._)(t))),this._logHandler.apply(this,[this,c.VERBOSE].concat((0,eg._)(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.INFO].concat((0,eg._)(t))),this._logHandler.apply(this,[this,c.INFO].concat((0,eg._)(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.WARN].concat((0,eg._)(t))),this._logHandler.apply(this,[this,c.WARN].concat((0,eg._)(t)))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.ERROR].concat((0,eg._)(t))),this._logHandler.apply(this,[this,c.ERROR].concat((0,eg._)(t)))}}]),e}(),m=y("i7mVp"),eg=y("aYXpI"),v=y("4tSb9"),eg=y("aYXpI"),eZ=new WeakMap,eK=new WeakMap,e0=new WeakMap,e2=new WeakMap,e1=new WeakMap,e4={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return eK.get(e);if("objectStoreNames"===t)return e.objectStoreNames||e0.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return e3(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function e3(e){if(e instanceof IDBRequest){return(t=new Promise(function(t,r){var n=function(){e.removeEventListener("success",a),e.removeEventListener("error",o)},a=function(){t(e3(e.result)),n()},o=function(){r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",o)})).then(function(t){t instanceof IDBCursor&&eZ.set(t,e)}).catch(function(){}),e1.set(t,e),t}if(e2.has(e))return e2.get(e);var t,r,n="function"==typeof(r=e)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(e6(this),t),e3(eZ.get(this))}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e3(r.apply(e6(this),t))}:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=r.call.apply(r,[e6(this),e].concat((0,eg._)(n)));return e0.set(o,e.sort?e.sort():[e]),e3(o)}:(r instanceof IDBTransaction&&function(e){if(!eK.has(e)){var t=new Promise(function(t,r){var n=function(){e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=function(){t(),n()},o=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});eK.set(e,t)}}(r),(l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(function(e){return r instanceof e}))?new Proxy(r,e4):r;return n!==e&&(e2.set(e,n),e1.set(n,e)),n}var e6=function(e){return e1.get(e)},e5=["get","getKey","getAll","getAllKeys","count"],e7=["put","add","delete","clear"],e9=new Map;function e8(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(e9.get(t))return e9.get(t);var r=t.replace(/FromIndex$/,""),n=t!==r,a=e7.includes(r);if(r in(n?IDBIndex:IDBObjectStore).prototype&&(a||e5.includes(r))){var o,i=(o=(0,m._)(function(e){var t,o,i,s,c,u,l=arguments;return(0,v.__generator)(this,function(f){switch(f.label){case 0:for(o=Array((t=l.length)>1?t-1:0),i=1;i<t;i++)o[i-1]=l[i];return u=(c=this.transaction(e,a?"readwrite":"readonly")).store,n&&(u=u.index(o.shift())),[4,Promise.all([(s=u)[r].apply(s,(0,eg._)(o)),a&&c.done])];case 1:return[2,f.sent()[0]]}})}),function(e){return o.apply(this,arguments)});return e9.set(t,i),i}}}r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){ed(e,t,r[t])})}return e}({},t=e4),n=n={get:function(e,r,n){return e8(e,r)||t.get(e,r,n)},has:function(e,r){return!!e8(e,r)||t.has(e,r)}},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),e4=r;var te=function(){"use strict";function e(t){(0,eh._)(this,e),this.container=t}return(0,ep._)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if((null==(t=e.getComponent())?void 0:t.type)!=="VERSION")return null;var t,r=e.getImmediate();return"".concat(r.library,"/").concat(r.version)}).filter(function(e){return e}).join(" ")}}]),e}(),tt="@firebase/app",tr="0.9.12",tn=new ez("@firebase/app"),ta=(ed(h={},tt,"fire-core"),ed(h,"@firebase/app-compat","fire-core-compat"),ed(h,"@firebase/analytics","fire-analytics"),ed(h,"@firebase/analytics-compat","fire-analytics-compat"),ed(h,"@firebase/app-check","fire-app-check"),ed(h,"@firebase/app-check-compat","fire-app-check-compat"),ed(h,"@firebase/auth","fire-auth"),ed(h,"@firebase/auth-compat","fire-auth-compat"),ed(h,"@firebase/database","fire-rtdb"),ed(h,"@firebase/database-compat","fire-rtdb-compat"),ed(h,"@firebase/functions","fire-fn"),ed(h,"@firebase/functions-compat","fire-fn-compat"),ed(h,"@firebase/installations","fire-iid"),ed(h,"@firebase/installations-compat","fire-iid-compat"),ed(h,"@firebase/messaging","fire-fcm"),ed(h,"@firebase/messaging-compat","fire-fcm-compat"),ed(h,"@firebase/performance","fire-perf"),ed(h,"@firebase/performance-compat","fire-perf-compat"),ed(h,"@firebase/remote-config","fire-rc"),ed(h,"@firebase/remote-config-compat","fire-rc-compat"),ed(h,"@firebase/storage","fire-gcs"),ed(h,"@firebase/storage-compat","fire-gcs-compat"),ed(h,"@firebase/firestore","fire-fst"),ed(h,"@firebase/firestore-compat","fire-fst-compat"),ed(h,"fire-js","fire-js"),ed(h,"firebase","fire-js-all"),h),to=new Map,ti=new Map;function ts(e){var t=e.name;if(ti.has(t))return tn.debug("There were multiple attempts to register component ".concat(t,".")),!1;ti.set(t,e);var r=!0,n=!1,a=void 0;try{for(var o,i=to.values()[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;!function(e,t){try{e.container.addComponent(t)}catch(r){tn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}(s,e)}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return!0}var tc=(ed(p={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),ed(p,"bad-app-name","Illegal App name: '{$appName}"),ed(p,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ed(p,"app-deleted","Firebase App named '{$appName}' already deleted"),ed(p,"no-options","Need to provide options, when not being deployed to hosting via source."),ed(p,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ed(p,"invalid-log-argument","First argument to `onLog` must be null or a function."),ed(p,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ed(p,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ed(p,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ed(p,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),p),tu=new eF("app","Firebase",tc);function tl(e,t,r){var n,a=null!==(n=ta[e])&&void 0!==n?n:e;r&&(a+="-".concat(r));var o=a.match(/\s|\//),i=t.match(/\s|\//);if(o||i){var s=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];o&&s.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),o&&i&&s.push("and"),i&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),tn.warn(s.join(" "));return}ts(new eJ("".concat(a,"-version"),function(){return{library:a,version:t}},"VERSION"))}var tf="firebase-heartbeat-store",th=null;function tp(){return th||(th=(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,a=r.upgrade,o=r.blocking,i=r.terminated,s=indexedDB.open(e,1),c=e3(s);return a&&s.addEventListener("upgradeneeded",function(e){a(e3(s.result),e.oldVersion,e.newVersion,e3(s.transaction),e)}),n&&s.addEventListener("blocked",function(e){return n(e.oldVersion,e.newVersion,e)}),c.then(function(e){i&&e.addEventListener("close",function(){return i()}),o&&e.addEventListener("versionchange",function(e){return o(e.oldVersion,e.newVersion,e)})}).catch(function(){}),c})("firebase-heartbeat-database",1,{upgrade:function(e,t){0===t&&e.createObjectStore(tf)}}).catch(function(e){throw tu.create("idb-open",{originalErrorMessage:e.message})})),th}function td(){return(td=(0,m._)(function(e){var t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,tp()];case 1:return[4,n.sent().transaction(tf).objectStore(tf).get(ty(e))];case 2:return[2,n.sent()];case 3:return(t=n.sent())instanceof eU?tn.warn(t.message):(r=tu.create("idb-get",{originalErrorMessage:null==t?void 0:t.message}),tn.warn(r.message)),[3,4];case 4:return[2]}})})).apply(this,arguments)}function tg(e,t){return tb.apply(this,arguments)}function tb(){return(tb=(0,m._)(function(e,t){var r,n,a;return(0,v.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,tp()];case 1:return[4,(r=o.sent().transaction(tf,"readwrite")).objectStore(tf).put(t,ty(e))];case 2:return o.sent(),[4,r.done];case 3:return o.sent(),[3,5];case 4:return(n=o.sent())instanceof eU?tn.warn(n.message):(a=tu.create("idb-set",{originalErrorMessage:null==n?void 0:n.message}),tn.warn(a.message)),[3,5];case 5:return[2]}})})).apply(this,arguments)}function ty(e){return"".concat(e.name,"!").concat(e.options.appId)}var tm=function(){"use strict";function e(t){var r=this;(0,eh._)(this,e),this.container=t,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new t_(n),this._heartbeatsCachePromise=this._storage.read().then(function(e){return r._heartbeatsCache=e,e})}return(0,ep._)(e,[{key:"triggerHeartbeat",value:function(){var e=this;return(0,m._)(function(){var t,r;return(0,v.__generator)(this,function(n){switch(n.label){case 0:if(t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tv(),null!==e._heartbeatsCache)return[3,2];return[4,e._heartbeatsCachePromise];case 1:e._heartbeatsCache=n.sent(),n.label=2;case 2:if(e._heartbeatsCache.lastSentHeartbeatDate===r||e._heartbeatsCache.heartbeats.some(function(e){return e.date===r}))return[2];return e._heartbeatsCache.heartbeats.push({date:r,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),[2,e._storage.overwrite(e._heartbeatsCache)]}})})()}},{key:"getHeartbeatsHeader",value:function(){var e=this;return(0,m._)(function(){var t,r,n,a,o;return(0,v.__generator)(this,function(i){switch(i.label){case 0:if(null!==e._heartbeatsCache)return[3,2];return[4,e._heartbeatsCachePromise];case 1:i.sent(),i.label=2;case 2:if(null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return[2,""];if(t=tv(),n=(r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],n=e.slice(),a=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=function(){var e=s.value,a=r.find(function(t){return t.agent===e.agent});if(a){if(a.dates.push(e.date),tE(r)>t)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),tE(r)>t)return r.pop(),"break";n=n.slice(1)}();if("break"===u)break}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return{heartbeatsToSend:r,unsentEntries:n}}(e._heartbeatsCache.heartbeats)).heartbeatsToSend,a=r.unsentEntries,o=eq(JSON.stringify({version:2,heartbeats:n})),e._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0))return[3,4];return e._heartbeatsCache.heartbeats=a,[4,e._storage.overwrite(e._heartbeatsCache)];case 3:return i.sent(),[3,5];case 4:e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache),i.label=5;case 5:return[2,o]}})})()}}]),e}();function tv(){return new Date().toISOString().substring(0,10)}var t_=function(){"use strict";function e(t){(0,eh._)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,ep._)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){return(0,m._)(function(){return(0,v.__generator)(this,function(e){return!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()?[2,!1]:[2,new Promise(function(e,t){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=function(){a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=function(){r=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(function(){return!0}).catch(function(){return!1})]})})()}},{key:"read",value:function(){var e=this;return(0,m._)(function(){return(0,v.__generator)(this,function(t){switch(t.label){case 0:return[4,e._canUseIndexedDBPromise];case 1:if(t.sent())return[3,2];return[2,{heartbeats:[]}];case 2:return[4,function(e){return td.apply(this,arguments)}(e.app)];case 3:return[2,t.sent()||{heartbeats:[]}];case 4:return[2]}})})()}},{key:"overwrite",value:function(e){var t=this;return(0,m._)(function(){var r,n;return(0,v.__generator)(this,function(a){switch(a.label){case 0:return[4,t._canUseIndexedDBPromise];case 1:if(a.sent())return[3,2];return[2];case 2:return[4,t.read()];case 3:return n=a.sent(),[2,tg(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})];case 4:return[2]}})})()}},{key:"add",value:function(e){var t=this;return(0,m._)(function(){var r,n;return(0,v.__generator)(this,function(a){switch(a.label){case 0:return[4,t._canUseIndexedDBPromise];case 1:if(a.sent())return[3,2];return[2];case 2:return[4,t.read()];case 3:return n=a.sent(),[2,tg(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:(0,eg._)(n.heartbeats).concat((0,eg._)(e.heartbeats))})];case 4:return[2]}})})()}}]),e}();function tE(e){return eq(JSON.stringify({version:2,heartbeats:e})).length}ts(new eJ("platform-logger",function(e){return new te(e)},"PRIVATE")),ts(new eJ("heartbeat",function(e){return new tm(e)},"PRIVATE")),tl(tt,tr,""),tl(tt,tr,"esm2017"),tl("fire-js",""),tl("firebase","9.22.2","app")}();
//# sourceMappingURL=group.d161e515.js.map
