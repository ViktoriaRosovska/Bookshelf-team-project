!function(){function e(e){return e&&e.__esModule?e.default:e}var t,r,n,a,o,i,s,c,u,l,f,h,p,d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},g={},b={},y=d.parcelRequire9432;function v(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){r(e);return}s.done?t(c):Promise.resolve(c).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){v(o,n,a,i,s,"next",e)}function s(e){v(o,n,a,i,s,"throw",e)}i(void 0)})}}null==y&&((y=function(e){if(e in g)return g[e].exports;if(e in b){var t=b[e];delete b[e];var r={id:e,exports:{}};return g[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){b[e]=t},d.parcelRequire9432=y),y.register("aNJCr",function(e,t){Object.defineProperty(e.exports,"getBundleURL",{get:function(){return r},set:function(e){return r=e},enumerable:!0,configurable:!0});"use strict";var r,n={};r=function(e){var t=n[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),n[e]=t),t}}),y("7SQp7"),y("i8Q71"),y("aOrXb"),y("6aBn7");function _(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var E=(y("7SQp7"),y("7SQp7")),w=document.querySelector(".books-gallery"),S=new E.APIService;function k(){return(k=m(function(e){var t;return _(this,function(r){switch(r.label){case 0:return[4,S.fetchBooksByCategory(e)];case 1:return[4,r.sent().data];case 2:return console.log(t=r.sent()),w.innerHTML='<h1 class="collection-title">Books</h1>\n    <ul class="top-books rendering-gap js-list-rendering">\n    '.concat(t.map(function(e){var t=e.title,r=e.book_image,n=e.author,a=e._id;return'<li class="book-card" id="'.concat(a,'">\n      <img class="book-cover" src="').concat(r,'" alt="').concat(t,'">\n      <h2 class="book-name">').concat(t,'</h2>\n      <h3 class="book-author">').concat(n,"</h3>\n  </li>")}).join(""),"\n    </ul>"),[2]}})})).apply(this,arguments)}var L=new E.APIService,B=document.querySelector(".book-category__list");function O(){return(O=m(function(){return _(this,function(e){switch(e.label){case 0:return[4,L.fetchBooksCategoryList()];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}})})).apply(this,arguments)}function A(){return(A=m(function(){var e;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(){return O.apply(this,arguments)}()];case 1:return e=t.sent().map(function(e){return'<li class="book-category__list-item">'.concat(e.list_name,"</li>")}).join(""),B.insertAdjacentHTML("beforeend",e),[3,3];case 2:return console.log(t.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}function I(){return(I=m(function(e){return _(this,function(t){switch(t.label){case 0:if("LI"!==e.target.nodeName)return[2];return console.log(e.target),e.target.classList.contains("active")?e.target.classList.remove("active"):(document.querySelectorAll(".book-category__list-item").forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active")),[4,function(e){return k.apply(this,arguments)}(e.target.textContent)];case 1:return t.sent(),[2]}})})).apply(this,arguments)}B&&(!function(){A.apply(this,arguments)}(),B.addEventListener("click",function(e){return I.apply(this,arguments)}));var E=y("7SQp7"),C=new E.APIService,D=document.querySelector(".books-collection");function T(){return(T=m(function(){return _(this,function(e){switch(e.label){case 0:return[4,C.fetchBestSellersBooks()];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}})})).apply(this,arguments)}function N(){return(N=m(function(){var e,t,r,n,a,o,i,s;return _(this,function(c){switch(c.label){case 0:return e="",[4,function(){return T.apply(this,arguments)}()];case 1:console.log(t=c.sent()),r=!0,n=!1,a=void 0;try{for(o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)s=i.value,e+='\n    <li class="book-category-item">\n      <p class="book-category">'.concat(s.list_name,'</p>\n      <ul class="top-books js-list-rendering">\n        ').concat(s.books.map(function(e){return'\n              <li class="book-card flex-element" id='.concat(e._id,'>\n                <img class="book-cover" src="').concat(e.book_image,'" alt="').concat(e.title,'" />\n                <h2 class="book-name">').concat(e.title,'</h2>\n                <h3 class="book-author">').concat(e.author,"</h3>\n              </li>\n            ")}).join(""),'\n      </ul>\n      <button class="book-card-btn" type="button">see more</button>\n    </li>\n  ')}catch(e){n=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return D.innerHTML=e,[2]}})})).apply(this,arguments)}D&&(!function(){N.apply(this,arguments)}(),null==D||D.addEventListener("click",H));var x=document.querySelector(".collection-title");function H(e){return M.apply(this,arguments)}function M(){return(M=m(function(e){var t,r,n,a;return _(this,function(o){switch(o.label){case 0:if("BUTTON"!==e.target.nodeName)return[2];if(!(t=e.target).matches("button[data-category]"))return[3,3];return console.log(r=t.dataset.category),[4,C.fetchBooksByCategory(r)];case 1:return[4,o.sent().data];case 2:console.log(n=o.sent()),a=n.map(function(e){var t=e.title,n=e.book_image,a=e.author,o=e._id;return x.textContent=r,console.log(x.textContent),'<li class="flex-element" id="'.concat(o,'">\n      <img src="').concat(n,'" alt="').concat(t,'">\n      <h2>').concat(t,"</h2>\n      <p>").concat(a,"</p>\n  </li>")}).join(""),D.innerHTML=a,o.label=3;case 3:return[2]}})})).apply(this,arguments)}D.addEventListener("click",H);var E=y("7SQp7"),j={};j=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("iz5nZ");var R={};R=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("etq4A");var P={};P=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("mCCOp");var V={};V=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("iZ8qR");var q={};q=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("gmnG0");var U={};U=y("aNJCr").getBundleURL("EVgbq")+y("iE7OH").resolve("95GBg");var F=document.querySelector("#allModal"),W=document.querySelector(".books-gallery"),J=document.querySelector(".add-storage-button"),$=document.querySelector(".remove-storage-btn"),G=document.querySelector(".storage-info"),Y=new E.APIService,Q="storage-data",X=[],z={};W&&(J.addEventListener("click",function(){var e=JSON.parse(localStorage.getItem(Q)),t=z;e&&0!==e.length?(e.push(t),localStorage.setItem(Q,JSON.stringify(e))):(X.push(t),localStorage.setItem(Q,JSON.stringify(X))),G.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",er()}),$.addEventListener("click",function(){G.textContent="";var e=z.id,t=JSON.parse(localStorage.getItem(Q)),r=t.findIndex(function(t){return t.id===e});t.splice(r,1),localStorage.setItem(Q,JSON.stringify(t)),er()}),W.addEventListener("click",function(e){if("BUTTON"!==e.target.nodeName&&"UL"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"H3"!==e.target.nodeName){var t=e.target.closest("li").id;Z.classList.remove("is-hidden"),K.classList.remove("is-hidden"),function(e){ee.apply(this,arguments)}(t)}}));var Z=document.querySelector(".about-book-modal"),K=document.querySelector(".card-backdrop-modal");function ee(){return(ee=m(function(t){var r,n;return _(this,function(a){switch(a.label){case 0:F.innerHTML="",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){return et.apply(this,arguments)}(t)];case 2:var o,i,s,c,u,l,f,h,p;return r=a.sent(),er(),o=r.book_image,i=r.title,s=r.author,c=r.buy_links[0].url,u=r.buy_links[1].url,l=r.buy_links[4].url,h=f=r.description,""===f&&(h="Unfortunately, a brief description of this book is currently unavailable. But let that not hinder you from opening its pages and immersing yourself in the unforgettable world it creates."),p='  \n  <img src="'.concat(o,'" alt="Book Image" class="image-about-book-modal">\n  <div class="info-modal">\n  <h2 class="title-about-book-modal">').concat(i,'</h2>\n  <p class="author-about-book-modal"> ').concat(s,'</p>\n  <p class="text-about-book-modal">').concat(h,'</p>\n  <ul class="shop-modal-list"> <li class="shop-modal-item"><a href="').concat(c,'" target="_blank"\n    > <img\n     width="62"\n    height="19"\n    srcset="\n    ').concat(e(j)," 1x,\n    ").concat(e(R),' 2x\n  "\n   src="').concat(e(j),'"\n    alt="Amazon"\n  /></a></li>\n  <li class="shop-modal-item"><a href="').concat(u,'" target="_blank"\n    > <img\n    width="33"\n    height="32"\n    srcset="\n    ').concat(e(P)," 1x,\n    ").concat(e(V),' 2x\n  "\n   src="').concat(e(P),'"\n    alt="AppleBooks"\n  /></a></li>\n  <li class="shop-modal-item"><a href="').concat(l,'" target="_blank"\n    > <img\n    width="38"\n    height="36"\n    srcset="\n    ').concat(e(q)," 1x,\n    ").concat(e(U),' 2x\n  "\n   src="').concat(e(q),'"\n    alt="Book-Shop"\n  /></a></li>\n</ul>\n</div>\n  '),F.innerHTML=p,[2,r];case 3:throw console.error("Error",n=a.sent()),n;case 4:return[2]}})})).apply(this,arguments)}function et(){return(et=m(function(e){var t,r;return _(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),z={},[4,Y.fetchBookInfo(e)];case 1:return z={book_image:(t=n.sent().data).book_image,title:t.title,author:t.author,marketAmazon:t.buy_links[0].url,marketAppleBooks:t.buy_links[1].url,marketBookshop:t.buy_links[4].url,list_name:t.list_name,id:t._id,description:t.description},[2,t];case 2:throw console.error("Error",r=n.sent()),r;case 3:return[2]}})})).apply(this,arguments)}function er(){var e=JSON.parse(localStorage.getItem(Q)),t=z.id;if(e&&0!==e.length)e.find(function(e){return e.id===t})?(J.style.display="none",$.style.display="block"):(J.style.display="block",$.style.display="none");else{J.style.display="block",$.style.display="none";return}}var en=document.querySelector(".card-backdrop-modal"),ea=document.querySelector(".modal"),eo=document.getElementById("modal-close");function ei(){en.classList.add("is-hidden"),ea.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",es)}function es(e){"Escape"===e.key&&ei()}ea&&(en.addEventListener("click",function(e){e.target===en&&ei()}),eo.addEventListener("click",function(){ei()}));var ec=document.querySelector(".authorisation-btn"),eu=document.querySelector(".modal-login-form"),el=document.querySelector(".modal-login-form-close-btn"),ef=document.querySelector(".overlayLoginForm");function eh(){eu.style.display="none",ef.style.display="none"}eu&&(ec.onclick=function(){eu.style.display="block",ef.style.display="block"},el.onclick=eh,window.onclick=function(e){(e.target===eu||e.target===ef)&&eh()},window.addEventListener("keydown",function(e){"Escape"===e.key&&eh()})),y("2ayrj"),y("50Y4H"),({btn:document.querySelector(".scrollBtn"),show:function(){this.btn.classList.remove("scrollBtn-hide")},hide:function(){this.btn.classList.add("scrollBtn-hide")},addEventListener:function(){var e=this;this.btn&&(window.addEventListener("scroll",function(){(window.scrollY||document.documentElement.scrollTop)>100?e.show():e.hide()}),this.btn.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})})}}).addEventListener();var ep=y("juqrk"),ed=y("bNI6E");function eg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eb=y("aYXpI"),ep=y("juqrk"),ed=y("bNI6E"),ey=y("fGQt0"),eb=y("aYXpI"),ev=y("cquyX"),ep=y("juqrk"),ed=y("bNI6E"),em=y("jqfyu"),ey=y("fGQt0"),eb=y("aYXpI"),e_=y("8ZYwq"),eE=y("3A6Ss");function ew(e,t,r){return(ew=(0,e_._is_native_reflect_construct)()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&(0,eE._set_prototype_of)(a,r.prototype),a}).apply(null,arguments)}var eS=y("5yT7U"),eE=y("3A6Ss");function ek(e){var t="function"==typeof Map?new Map:void 0;return(ek=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ew(e,arguments,(0,eS._get_prototype_of)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,eE._set_prototype_of)(r,e)})(e)}var eL=y("50zho"),eB={};function eO(){throw Error("setTimeout has not been defined")}function eA(){throw Error("clearTimeout has not been defined")}function eI(e){if(o===setTimeout)return setTimeout(e,0);if((o===eO||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:eO}catch(e){o=eO}try{i="function"==typeof clearTimeout?clearTimeout:eA}catch(e){i=eA}}();var eC=[],eD=!1,eT=-1;function eN(){eD&&s&&(eD=!1,s.length?eC=s.concat(eC):eT=-1,eC.length&&ex())}function ex(){if(!eD){var e=eI(eN);eD=!0;for(var t=eC.length;t;){for(s=eC,eC=[];++eT<t;)s&&s[eT].run();eT=-1,t=eC.length}s=null,eD=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===eA||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function eH(e,t){this.fun=e,this.array=t}function eM(){}eB.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];eC.push(new eH(e,t)),1!==eC.length||eD||eI(ex)},eH.prototype.run=function(){this.fun.apply(null,this.array)},eB.title="browser",eB.browser=!0,eB.env={},eB.argv=[],eB.version="",eB.versions={},eB.on=eM,eB.addListener=eM,eB.once=eM,eB.off=eM,eB.removeListener=eM,eB.removeAllListeners=eM,eB.emit=eM,eB.prependListener=eM,eB.prependOnceListener=eM,eB.listeners=function(e){return[]},eB.binding=function(e){throw Error("process.binding is not supported")},eB.cwd=function(){return"/"},eB.chdir=function(e){throw Error("process.chdir is not supported")},eB.umask=function(){return 0};var ej=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):(64512&a)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},eR=function(e){for(var t=[],r=0,n=0;r<e.length;){var a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){var o=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&o)}else if(a>239&&a<365){var i=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(i>>10)),t[n++]=String.fromCharCode(56320+(1023&i))}else{var s=e[r++],c=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&c)}}return t.join("")},eP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],a=0;a<e.length;a+=3){var o=e[a],i=a+1<e.length,s=i?e[a+1]:0,c=a+2<e.length,u=c?e[a+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|u>>6,p=63&u;c||(p=64,i||(h=64)),n.push(r[l],r[f],r[h],r[p])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ej(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],a=0;a<e.length;){var o=r[e.charAt(a++)],i=a<e.length?r[e.charAt(a)]:0,s=++a<e.length?r[e.charAt(a)]:64,c=++a<e.length?r[e.charAt(a)]:64;if(++a,null==o||null==i||null==s||null==c)throw new eV;var u=o<<2|i>>4;if(n.push(u),64!==s){var l=i<<4&240|s>>2;if(n.push(l),64!==c){var f=s<<6&192|c;n.push(f)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},eV=function(e){"use strict";(0,em._)(r,e);var t=(0,eL._)(r);function r(){var e;return(0,ep._)(this,r),e=t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),e.name="DecodeBase64StringError",e}return r}(ek(Error)),eq=function(e){var t=ej(e);return eP.encodeByteArray(t,!0)},eU=function(e){return eq(e).replace(/\./g,"")},eF=function(e){"use strict";(0,em._)(r,e);var t=(0,eL._)(r);function r(e,n,a){var o;return(0,ep._)(this,r),(o=t.call(this,n)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf((0,ev._)(o),r.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,ev._)(o),eW.prototype.create),o}return r}(ek(Error)),eW=function(){"use strict";function e(t,r,n){(0,ep._)(this,e),this.service=t,this.serviceName=r,this.errors=n}return(0,ed._)(e,[{key:"create",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0]||{},o="".concat(this.service,"/").concat(e),i=this.errors[e],s=i?i.replace(eJ,function(e,t){var r=a[t];return null!=r?String(r):"<".concat(t,"?>")}):"Error",c="".concat(this.serviceName,": ").concat(s," (").concat(o,").");return new eF(o,c,a)}}]),e}(),eJ=/\{\$([^}]+)}/g,e$=function(){"use strict";function e(t,r,n){(0,ep._)(this,e),this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,ed._)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ep=y("juqrk"),ed=y("bNI6E"),eb=y("aYXpI"),eG=[];(a=c||(c={}))[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT";var eY={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},eQ=c.INFO,eX=(eg(u={},c.DEBUG,"log"),eg(u,c.VERBOSE,"log"),eg(u,c.INFO,"info"),eg(u,c.WARN,"warn"),eg(u,c.ERROR,"error"),u),ez=function(e,t){for(var r,n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=eX[t];if(s)(r=console)[s].apply(r,["[".concat(i,"]  ").concat(e.name,":")].concat((0,eb._)(a)));else throw Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"))}},eZ=function(){"use strict";function e(t){(0,ep._)(this,e),this.name=t,this._logLevel=eQ,this._logHandler=ez,this._userLogHandler=null,eG.push(this)}return(0,ed._)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in c))throw TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?eY[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.DEBUG].concat((0,eb._)(t))),this._logHandler.apply(this,[this,c.DEBUG].concat((0,eb._)(t)))}},{key:"log",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.VERBOSE].concat((0,eb._)(t))),this._logHandler.apply(this,[this,c.VERBOSE].concat((0,eb._)(t)))}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.INFO].concat((0,eb._)(t))),this._logHandler.apply(this,[this,c.INFO].concat((0,eb._)(t)))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.WARN].concat((0,eb._)(t))),this._logHandler.apply(this,[this,c.WARN].concat((0,eb._)(t)))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,[this,c.ERROR].concat((0,eb._)(t))),this._logHandler.apply(this,[this,c.ERROR].concat((0,eb._)(t)))}}]),e}(),eb=(y("aYXpI"),y("aYXpI")),eK=new WeakMap,e0=new WeakMap,e2=new WeakMap,e1=new WeakMap,e3=new WeakMap,e4={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return e0.get(e);if("objectStoreNames"===t)return e.objectStoreNames||e2.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return e6(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function e6(e){if(e instanceof IDBRequest){return(t=new Promise(function(t,r){var n=function(){e.removeEventListener("success",a),e.removeEventListener("error",o)},a=function(){t(e6(e.result)),n()},o=function(){r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",o)})).then(function(t){t instanceof IDBCursor&&eK.set(t,e)}).catch(function(){}),e3.set(t,e),t}if(e1.has(e))return e1.get(e);var t,r,n="function"==typeof(r=e)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(f||(f=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(e5(this),t),e6(eK.get(this))}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e6(r.apply(e5(this),t))}:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=r.call.apply(r,[e5(this),e].concat((0,eb._)(n)));return e2.set(o,e.sort?e.sort():[e]),e6(o)}:(r instanceof IDBTransaction&&function(e){if(!e0.has(e)){var t=new Promise(function(t,r){var n=function(){e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=function(){t(),n()},o=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});e0.set(e,t)}}(r),(l||(l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(function(e){return r instanceof e}))?new Proxy(r,e4):r;return n!==e&&(e1.set(e,n),e3.set(n,e)),n}var e5=function(e){return e3.get(e)},e7=["get","getKey","getAll","getAllKeys","count"],e8=["put","add","delete","clear"],e9=new Map;function te(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(e9.get(t))return e9.get(t);var r=t.replace(/FromIndex$/,""),n=t!==r,a=e8.includes(r);if(r in(n?IDBIndex:IDBObjectStore).prototype&&(a||e7.includes(r))){var o,i=(o=m(function(e){var t,o,i,s,c,u,l=arguments;return _(this,function(f){switch(f.label){case 0:for(o=Array((t=l.length)>1?t-1:0),i=1;i<t;i++)o[i-1]=l[i];return u=(c=this.transaction(e,a?"readwrite":"readonly")).store,n&&(u=u.index(o.shift())),[4,Promise.all([(s=u)[r].apply(s,(0,eb._)(o)),a&&c.done])];case 1:return[2,f.sent()[0]]}})}),function(e){return o.apply(this,arguments)});return e9.set(t,i),i}}}r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){eg(e,t,r[t])})}return e}({},t=e4),n=n={get:function(e,r,n){return te(e,r)||t.get(e,r,n)},has:function(e,r){return!!te(e,r)||t.has(e,r)}},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),e4=r;var tt=function(){"use strict";function e(t){(0,ep._)(this,e),this.container=t}return(0,ed._)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if((null==(t=e.getComponent())?void 0:t.type)!=="VERSION")return null;var t,r=e.getImmediate();return"".concat(r.library,"/").concat(r.version)}).filter(function(e){return e}).join(" ")}}]),e}(),tr="@firebase/app",tn="0.9.12",ta=new eZ("@firebase/app"),to=(eg(h={},tr,"fire-core"),eg(h,"@firebase/app-compat","fire-core-compat"),eg(h,"@firebase/analytics","fire-analytics"),eg(h,"@firebase/analytics-compat","fire-analytics-compat"),eg(h,"@firebase/app-check","fire-app-check"),eg(h,"@firebase/app-check-compat","fire-app-check-compat"),eg(h,"@firebase/auth","fire-auth"),eg(h,"@firebase/auth-compat","fire-auth-compat"),eg(h,"@firebase/database","fire-rtdb"),eg(h,"@firebase/database-compat","fire-rtdb-compat"),eg(h,"@firebase/functions","fire-fn"),eg(h,"@firebase/functions-compat","fire-fn-compat"),eg(h,"@firebase/installations","fire-iid"),eg(h,"@firebase/installations-compat","fire-iid-compat"),eg(h,"@firebase/messaging","fire-fcm"),eg(h,"@firebase/messaging-compat","fire-fcm-compat"),eg(h,"@firebase/performance","fire-perf"),eg(h,"@firebase/performance-compat","fire-perf-compat"),eg(h,"@firebase/remote-config","fire-rc"),eg(h,"@firebase/remote-config-compat","fire-rc-compat"),eg(h,"@firebase/storage","fire-gcs"),eg(h,"@firebase/storage-compat","fire-gcs-compat"),eg(h,"@firebase/firestore","fire-fst"),eg(h,"@firebase/firestore-compat","fire-fst-compat"),eg(h,"fire-js","fire-js"),eg(h,"firebase","fire-js-all"),h),ti=new Map,ts=new Map;function tc(e){var t=e.name;if(ts.has(t))return ta.debug("There were multiple attempts to register component ".concat(t,".")),!1;ts.set(t,e);var r=!0,n=!1,a=void 0;try{for(var o,i=ti.values()[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;!function(e,t){try{e.container.addComponent(t)}catch(r){ta.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}(s,e)}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return!0}var tu=(eg(p={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),eg(p,"bad-app-name","Illegal App name: '{$appName}"),eg(p,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),eg(p,"app-deleted","Firebase App named '{$appName}' already deleted"),eg(p,"no-options","Need to provide options, when not being deployed to hosting via source."),eg(p,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),eg(p,"invalid-log-argument","First argument to `onLog` must be null or a function."),eg(p,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),eg(p,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),eg(p,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),eg(p,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),p),tl=new eW("app","Firebase",tu);function tf(e,t,r){var n,a=null!==(n=to[e])&&void 0!==n?n:e;r&&(a+="-".concat(r));var o=a.match(/\s|\//),i=t.match(/\s|\//);if(o||i){var s=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];o&&s.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),o&&i&&s.push("and"),i&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),ta.warn(s.join(" "));return}tc(new e$("".concat(a,"-version"),function(){return{library:a,version:t}},"VERSION"))}var th="firebase-heartbeat-store",tp=null;function td(){return tp||(tp=(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,a=r.upgrade,o=r.blocking,i=r.terminated,s=indexedDB.open(e,1),c=e6(s);return a&&s.addEventListener("upgradeneeded",function(e){a(e6(s.result),e.oldVersion,e.newVersion,e6(s.transaction),e)}),n&&s.addEventListener("blocked",function(e){return n(e.oldVersion,e.newVersion,e)}),c.then(function(e){i&&e.addEventListener("close",function(){return i()}),o&&e.addEventListener("versionchange",function(e){return o(e.oldVersion,e.newVersion,e)})}).catch(function(){}),c})("firebase-heartbeat-database",1,{upgrade:function(e,t){0===t&&e.createObjectStore(th)}}).catch(function(e){throw tl.create("idb-open",{originalErrorMessage:e.message})})),tp}function tg(){return(tg=m(function(e){var t,r;return _(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,td()];case 1:return[4,n.sent().transaction(th).objectStore(th).get(tv(e))];case 2:return[2,n.sent()];case 3:return(t=n.sent())instanceof eF?ta.warn(t.message):(r=tl.create("idb-get",{originalErrorMessage:null==t?void 0:t.message}),ta.warn(r.message)),[3,4];case 4:return[2]}})})).apply(this,arguments)}function tb(e,t){return ty.apply(this,arguments)}function ty(){return(ty=m(function(e,t){var r,n,a;return _(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,td()];case 1:return[4,(r=o.sent().transaction(th,"readwrite")).objectStore(th).put(t,tv(e))];case 2:return o.sent(),[4,r.done];case 3:return o.sent(),[3,5];case 4:return(n=o.sent())instanceof eF?ta.warn(n.message):(a=tl.create("idb-set",{originalErrorMessage:null==n?void 0:n.message}),ta.warn(a.message)),[3,5];case 5:return[2]}})})).apply(this,arguments)}function tv(e){return"".concat(e.name,"!").concat(e.options.appId)}var tm=function(){"use strict";function e(t){var r=this;(0,ep._)(this,e),this.container=t,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new tE(n),this._heartbeatsCachePromise=this._storage.read().then(function(e){return r._heartbeatsCache=e,e})}return(0,ed._)(e,[{key:"triggerHeartbeat",value:function(){var e=this;return m(function(){var t,r;return _(this,function(n){switch(n.label){case 0:if(t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=t_(),null!==e._heartbeatsCache)return[3,2];return[4,e._heartbeatsCachePromise];case 1:e._heartbeatsCache=n.sent(),n.label=2;case 2:if(e._heartbeatsCache.lastSentHeartbeatDate===r||e._heartbeatsCache.heartbeats.some(function(e){return e.date===r}))return[2];return e._heartbeatsCache.heartbeats.push({date:r,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),[2,e._storage.overwrite(e._heartbeatsCache)]}})})()}},{key:"getHeartbeatsHeader",value:function(){var e=this;return m(function(){var t,r,n,a,o;return _(this,function(i){switch(i.label){case 0:if(null!==e._heartbeatsCache)return[3,2];return[4,e._heartbeatsCachePromise];case 1:i.sent(),i.label=2;case 2:if(null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return[2,""];if(t=t_(),n=(r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],n=e.slice(),a=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=function(){var e=s.value,a=r.find(function(t){return t.agent===e.agent});if(a){if(a.dates.push(e.date),tw(r)>t)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),tw(r)>t)return r.pop(),"break";n=n.slice(1)}();if("break"===u)break}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return{heartbeatsToSend:r,unsentEntries:n}}(e._heartbeatsCache.heartbeats)).heartbeatsToSend,a=r.unsentEntries,o=eU(JSON.stringify({version:2,heartbeats:n})),e._heartbeatsCache.lastSentHeartbeatDate=t,!(a.length>0))return[3,4];return e._heartbeatsCache.heartbeats=a,[4,e._storage.overwrite(e._heartbeatsCache)];case 3:return i.sent(),[3,5];case 4:e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache),i.label=5;case 5:return[2,o]}})})()}}]),e}();function t_(){return new Date().toISOString().substring(0,10)}var tE=function(){"use strict";function e(t){(0,ep._)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,ed._)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){return m(function(){return _(this,function(e){return!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()?[2,!1]:[2,new Promise(function(e,t){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=function(){a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=function(){r=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(function(){return!0}).catch(function(){return!1})]})})()}},{key:"read",value:function(){var e=this;return m(function(){return _(this,function(t){switch(t.label){case 0:return[4,e._canUseIndexedDBPromise];case 1:if(t.sent())return[3,2];return[2,{heartbeats:[]}];case 2:return[4,function(e){return tg.apply(this,arguments)}(e.app)];case 3:return[2,t.sent()||{heartbeats:[]}];case 4:return[2]}})})()}},{key:"overwrite",value:function(e){var t=this;return m(function(){var r,n;return _(this,function(a){switch(a.label){case 0:return[4,t._canUseIndexedDBPromise];case 1:if(a.sent())return[3,2];return[2];case 2:return[4,t.read()];case 3:return n=a.sent(),[2,tb(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})];case 4:return[2]}})})()}},{key:"add",value:function(e){var t=this;return m(function(){var r,n;return _(this,function(a){switch(a.label){case 0:return[4,t._canUseIndexedDBPromise];case 1:if(a.sent())return[3,2];return[2];case 2:return[4,t.read()];case 3:return n=a.sent(),[2,tb(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:n.lastSentHeartbeatDate,heartbeats:(0,eb._)(n.heartbeats).concat((0,eb._)(e.heartbeats))})];case 4:return[2]}})})()}}]),e}();function tw(e){return eU(JSON.stringify({version:2,heartbeats:e})).length}tc(new e$("platform-logger",function(e){return new tt(e)},"PRIVATE")),tc(new e$("heartbeat",function(e){return new tm(e)},"PRIVATE")),tf(tr,tn,""),tf(tr,tn,"esm2017"),tf("fire-js",""),tf("firebase","9.22.2","app")}();
//# sourceMappingURL=group.577c5025.js.map
