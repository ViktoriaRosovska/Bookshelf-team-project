!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=o.parcelRequire9432;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},o.parcelRequire9432=i),i.register("iE7OH",function(t,n){"use strict";e(t.exports,"register",function(){return o},function(e){return o=e}),e(t.exports,"resolve",function(){return r},function(e){return r=e});var o,r,a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw Error("Could not resolve bundle with id "+e);return t}}),i.register("aNJCr",function(t,n){e(t.exports,"getBundleURL",function(){return o},function(e){return o=e});"use strict";var o,r={};o=function(e){var t=r[e];return t||(t=function(){try{throw Error()}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return(""+e[2]).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}(),r[e]=t),t}}),i("iE7OH").register(JSON.parse('{"EVgbq":"group.c47db9cc.js","avQsH":"action_against.24d1194a.png","3uFcM":"imc.7f989190.png","7ajv2":"medecins_sans.9660594f.png","2BaWP":"progecthope.344d3f3b.png","9Rv9N":"razom.9dcf6eb8.png","j7CFL":"save_the_children.0eb91883.png","e0eu9":"sergiy_prytula.938abd5f.png","27K2X":"united24.de007a75.png","3pRxa":"world_vision.52302304.png","iz5nZ":"amazon-icon1x.985b1de5.png","etq4A":"amazon-icon2x.b774c146.png","mCCOp":"applebook-icon1x.a9f158e0.png","iZ8qR":"applebook-icon2x.7ba433f7.png","gmnG0":"bookshop-icon1x.95f5821d.png","95GBg":"bookshop-icon2x.2b4b4a60.png","5lsP1":"group.566cb3a3.js"}')),i("7SQp7"),i("i8Q71");var c={},s={};s=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("avQsH");var l={};l=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("3uFcM");var u={};u=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("7ajv2");var d={};d=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("2BaWP");var g={};g=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("9Rv9N");var p={};p=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("j7CFL");var h={};h=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("e0eu9");var m={};m=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("27K2X");c={action_against:s,imc:l,medecins_sans:u,progecthope:d,razom:g,save_the_children:p,sergiy_prytula:h,united24:m,world_vision:i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("3pRxa")};var f=document.querySelector(".js-sponsors-list"),b=0,v=window.matchMedia("(min-width: 768px)");v.addEventListener("change",function(){return y=v.matches?3:5});var y=v.matches?3:5;n=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"save_the_children"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"progecthope"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"united24"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"imc"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"medecins_sans"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"razom"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"action_against"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"world_vision"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"sergiy_prytula"}].map(function(e){var n=e.url,o=e.title,r=e.img,a=t(c)[r];return'<li class="sponsor-item"><span class="sup_number">'.concat(String(b+=1).padStart(2,"0"),"</span><a href=").concat(n,' target="_blank" noopener noreferrer><img class="sponsor-img" src="').concat(a,'" alt=').concat(o,"></a></li>")}).join(""),null==f||f.insertAdjacentHTML("beforeend",n);var _=document.querySelector(".sponsors-slideDown__btn"),k=document.querySelector(".sponsors-slideUp__btn");k.classList.add("hide");var E=0,w=0;_.addEventListener("click",function(){w<y&&(++w,E+=52,f.style.transform="translateY(-".concat(E,"px)"),console.log(w)),w===y&&(k.classList.remove("hide"),_.classList.add("hide"))}),k.addEventListener("click",function(){w>0&&(--w,E-=52,f.style.transform="translateY(-".concat(E,"px)"),console.log(E),console.log(w)),0===w&&(E=0,_.classList.remove("hide"),k.classList.add("hide"))});var S=i("i7mVp"),H=i("4tSb9"),L=i("7SQp7"),S=i("i7mVp"),H=i("4tSb9"),L=i("7SQp7"),q=document.querySelector(".books-gallery"),R=new L.APIService;function B(){return(B=(0,S._)(function(e){var t;return(0,H.__generator)(this,function(n){switch(n.label){case 0:return[4,R.fetchBooksByCategory(e)];case 1:return[4,n.sent().data];case 2:return console.log(t=n.sent()),q.innerHTML='<h1 class="collection-title">Books</h1>\n    <ul class="top-books js-list-rendering">\n    '.concat(t.map(function(e){var t=e.title,n=e.book_image,o=e.author,r=e._id;return'<li class="book-card " id="'.concat(r,'">\n      <img class="book-cover" src="').concat(n,'" alt="').concat(t,'">\n      <h2 class="book-name">').concat(t,'</h2>\n      <h3 class="book-author">').concat(o,"</h3>\n  </li>")}).join(""),"\n    </ul>"),[2]}})})).apply(this,arguments)}var x=new L.APIService,C=document.querySelector(".book-category__list");function N(){return(N=(0,S._)(function(){return(0,H.__generator)(this,function(e){switch(e.label){case 0:return[4,x.fetchBooksCategoryList()];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}})})).apply(this,arguments)}function O(){return(O=(0,S._)(function(){var e;return(0,H.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(){return N.apply(this,arguments)}()];case 1:return e=t.sent().map(function(e){return'<li class="book-category__list-item">'.concat(e.list_name,"</li>")}).join(""),C.insertAdjacentHTML("beforeend",e),[3,3];case 2:return console.log(t.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}function A(){return(A=(0,S._)(function(e){return(0,H.__generator)(this,function(t){switch(t.label){case 0:if("LI"!==e.target.nodeName)return[2];return console.log(e.target),e.target.classList.contains("active")?e.target.classList.remove("active"):(document.querySelectorAll(".book-category__list-item").forEach(function(e){return e.classList.remove("active")}),e.target.classList.add("active")),[4,function(e){return B.apply(this,arguments)}(e.target.textContent)];case 1:return t.sent(),[2]}})})).apply(this,arguments)}C&&(!function(){O.apply(this,arguments)}(),C.addEventListener("click",function(e){return A.apply(this,arguments)}));var S=i("i7mVp"),H=i("4tSb9"),L=i("7SQp7"),U=new L.APIService,F=document.querySelector(".books-collection");function J(){return(J=(0,S._)(function(){return(0,H.__generator)(this,function(e){switch(e.label){case 0:return[4,U.fetchBestSellersBooks()];case 1:return[4,e.sent().data];case 2:return[2,e.sent()]}})})).apply(this,arguments)}function V(){return(V=(0,S._)(function(){var e,t,n,o,r,a,i,c;return(0,H.__generator)(this,function(s){switch(s.label){case 0:return e="",[4,function(){return J.apply(this,arguments)}()];case 1:t=s.sent(),n=!0,o=!1,r=void 0;try{for(a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)c=i.value,e+='\n    <li class="book-category-item">\n      <p class="book-category">'.concat(c.list_name,'</p>\n      <ul class="top-books js-list-rendering">\n        ').concat(c.books.map(function(e){return'\n              <li class="book-card flex-element" id='.concat(e._id,'>\n              <div class="book-thumb">\n                <img class="book-cover" src="').concat(e.book_image,'" alt="').concat(e.title,'" />\n                <div class="quick-view">\n                <p class="quick-view-text">QUICK VIEW</p>\n                </div>\n                </div>\n                <h2 class="book-name">').concat(e.title,'</h2>\n                <h3 class="book-author">').concat(e.author,"</h3>\n              </li>\n            ")}).join(""),'\n      </ul>\n      <button class="book-card-btn" type="button" data-category="').concat(c.list_name,'">see more</button>\n    </li>\n  ')}catch(e){o=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return F.innerHTML=e,[2]}})})).apply(this,arguments)}F&&(!function(){V.apply(this,arguments)}(),null==F||F.addEventListener("click",function(e){return j.apply(this,arguments)}));var I=document.querySelector(".collection-title");function j(){return(j=(0,S._)(function(e){var t,n,o,r;return(0,H.__generator)(this,function(a){switch(a.label){case 0:if("BUTTON"!==e.target.nodeName)return[2];if(!(t=e.target).matches("button[data-category]"))return[3,3];return console.log(n=t.dataset.category),[4,U.fetchBooksByCategory(n)];case 1:return[4,a.sent().data];case 2:console.log(o=a.sent()),r=o.map(function(e){var t=e.title,o=e.book_image,r=e.author,a=e._id;return I.textContent=n,console.log(I.textContent),'<li class="book-card flex-element" id="'.concat(a,'">\n       <div class="book-thumb">\n      <img class="book-cover" src="').concat(o,'" alt="').concat(t,'">\n      <div class="quick-view">\n      <p class="quick-view-text">QUICK VIEW</p>\n        </div>\n        </div>\n      <h2 class="book-name">').concat(t,'</h2>\n      <h3 class="book-author">').concat(r,"</h3>\n  </li>")}).join(""),F.innerHTML=r,a.label=3;case 3:return[2]}})})).apply(this,arguments)}var S=i("i7mVp"),H=i("4tSb9"),L=i("7SQp7"),T={};T=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("iz5nZ");var M={};M=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("etq4A");var z={};z=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("mCCOp");var P={};P=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("iZ8qR");var Q={};Q=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("gmnG0");var D={};D=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("95GBg");var W=document.querySelector("#allModal"),Y=document.querySelector(".books-gallery"),Z=document.querySelector(".add-storage-button"),G=document.querySelector(".remove-storage-btn"),K=document.querySelector(".storage-info"),X=new L.APIService,$="storage-data",ee=[],et={};Y&&(Z.addEventListener("click",function(){var e=JSON.parse(localStorage.getItem($)),t=et;e&&0!==e.length?(e.push(t),localStorage.setItem($,JSON.stringify(e))):(ee.push(t),localStorage.setItem($,JSON.stringify(ee))),K.textContent="Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.",ei()}),G.addEventListener("click",function(){K.textContent="";var e=et.id,t=JSON.parse(localStorage.getItem($)),n=t.findIndex(function(t){return t.id===e});t.splice(n,1),localStorage.setItem($,JSON.stringify(t)),ei()}),Y.addEventListener("click",function(e){if("BUTTON"!==e.target.nodeName&&"UL"!==e.target.nodeName&&"DIV"!==e.target.nodeName&&"H3"!==e.target.nodeName){var t=e.target.closest("li").id;en.classList.remove("is-hidden"),eo.classList.remove("is-hidden"),function(e){er.apply(this,arguments)}(t)}}));var en=document.querySelector(".about-book-modal"),eo=document.querySelector(".card-backdrop-modal");function er(){return(er=(0,S._)(function(e){var n,o;return(0,H.__generator)(this,function(r){switch(r.label){case 0:W.innerHTML="",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){return ea.apply(this,arguments)}(e)];case 2:var a,i,c,s,l,u,d,g,p;return n=r.sent(),ei(),a=n.book_image,i=n.title,c=n.author,s=n.buy_links[0].url,l=n.buy_links[1].url,u=n.buy_links[4].url,g=d=n.description,""===d&&(g="Unfortunately, a brief description of this book is currently unavailable. But let that not hinder you from opening its pages and immersing yourself in the unforgettable world it creates."),p='  \n  <img src="'.concat(a,'" alt="Book Image" class="image-about-book-modal">\n  <div class="info-modal">\n  <h2 class="title-about-book-modal">').concat(i,'</h2>\n  <p class="author-about-book-modal"> ').concat(c,'</p>\n  <p class="text-about-book-modal">').concat(g,'</p>\n  <ul class="shop-modal-list"> <li class="shop-modal-item"><a href="').concat(s,'" target="_blank"\n    > <img\n     width="62"\n    height="19"\n    srcset="\n    ').concat(t(T)," 1x,\n    ").concat(t(M),' 2x\n  "\n   src="').concat(t(T),'"\n    alt="Amazon"\n  /></a></li>\n  <li class="shop-modal-item"><a href="').concat(l,'" target="_blank"\n    > <img\n    width="33"\n    height="32"\n    srcset="\n    ').concat(t(z)," 1x,\n    ").concat(t(P),' 2x\n  "\n   src="').concat(t(z),'"\n    alt="AppleBooks"\n  /></a></li>\n  <li class="shop-modal-item"><a href="').concat(u,'" target="_blank"\n    > <img\n    width="38"\n    height="36"\n    srcset="\n    ').concat(t(Q)," 1x,\n    ").concat(t(D),' 2x\n  "\n   src="').concat(t(Q),'"\n    alt="Book-Shop"\n  /></a></li>\n</ul>\n</div>\n  '),W.innerHTML=p,[2,n];case 3:throw console.error("Error",o=r.sent()),o;case 4:return[2]}})})).apply(this,arguments)}function ea(){return(ea=(0,S._)(function(e){var t,n;return(0,H.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),et={},[4,X.fetchBookInfo(e)];case 1:return et={book_image:(t=o.sent().data).book_image,title:t.title,author:t.author,marketAmazon:t.buy_links[0].url,marketAppleBooks:t.buy_links[1].url,marketBookshop:t.buy_links[4].url,list_name:t.list_name,id:t._id,description:t.description},[2,t];case 2:throw console.error("Error",n=o.sent()),n;case 3:return[2]}})})).apply(this,arguments)}function ei(){var e=JSON.parse(localStorage.getItem($)),t=et.id;if(e&&0!==e.length)e.find(function(e){return e.id===t})?(Z.style.display="none",G.style.display="block"):(Z.style.display="block",G.style.display="none");else{Z.style.display="block",G.style.display="none";return}}var ec=document.querySelector(".card-backdrop-modal"),es=document.querySelector(".modal"),el=document.getElementById("modal-close");function eu(){ec.classList.add("is-hidden"),es.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",ed)}function ed(e){"Escape"===e.key&&eu()}es&&(ec.addEventListener("click",function(e){e.target===ec&&eu()}),el.addEventListener("click",function(){eu()}));var eg=document.querySelector(".authorisation-btn"),ep=document.querySelector(".modal-login-form"),eh=document.querySelector(".modal-login-form-close-btn"),em=document.querySelector(".overlayLoginForm");ep&&(eg.onclick=function(){ep.style.display="block",em.style.display="block"},eh.onclick=function(){ep.style.display="none",em.style.display="none"},window.onclick=function(e){e.target==ep&&(ep.style.display="none")}),i("2ayrj"),i("50Y4H"),({btn:document.querySelector(".scrollBtn"),show:function(){this.btn.classList.remove("scrollBtn-hide")},hide:function(){this.btn.classList.add("scrollBtn-hide")},addEventListener:function(){var e=this;this.btn&&(window.addEventListener("scroll",function(){(window.scrollY||document.documentElement.scrollTop)>100?e.show():e.hide()}),this.btn.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})})}}).addEventListener()}();
//# sourceMappingURL=group.c47db9cc.js.map
